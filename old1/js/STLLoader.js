THREE.STLLoader=function(e){THREE.Loader.call(this,e)},THREE.STLLoader.prototype=Object.assign(Object.create(THREE.Loader.prototype),{constructor:THREE.STLLoader,load:function(e,t,r,n){var o=this,a=new THREE.FileLoader(o.manager);a.setPath(o.path),a.setResponseType("arraybuffer"),a.load(e,function(r){try{t(o.parse(r))}catch(t){n?n(t):console.error(t),o.manager.itemError(e)}},r,n)},parse:function(e){function t(e,t,r){for(var n=0,o=e.length;n<o;n++)if(e[n]!==t.getUint8(r+n,!1))return!1;return!0}var r,n=function(e){if("string"==typeof e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=255&e.charCodeAt(r);return t.buffer||t}return e}(e);return function(e){var r;if(84+50*(r=new DataView(e)).getUint32(80,!0)===r.byteLength)return!0;for(var n=[115,111,108,105,100],o=0;o<5;o++)if(t(n,r,o))return!1;return!0}(n)?function(e){for(var t,r,n,o,a,i,f,u,l=new DataView(e),s=l.getUint32(80,!0),E=!1,g=0;g<70;g++)1129270351==l.getUint32(g,!1)&&82==l.getUint8(g+4)&&61==l.getUint8(g+5)&&(E=!0,o=new Float32Array(3*s*3),a=l.getUint8(g+6)/255,i=l.getUint8(g+7)/255,f=l.getUint8(g+8)/255,u=l.getUint8(g+9)/255);for(var c=new THREE.BufferGeometry,p=new Float32Array(3*s*3),T=new Float32Array(3*s*3),d=0;d<s;d++){var h=84+50*d,w=l.getFloat32(h,!0),R=l.getFloat32(h+4,!0),v=l.getFloat32(h+8,!0);if(E){var F=l.getUint16(h+48,!0);0==(32768&F)?(t=(31&F)/31,r=(F>>5&31)/31,n=(F>>10&31)/31):(t=a,r=i,n=f)}for(var b=1;b<=3;b++){var y=h+12*b,H=3*d*3+3*(b-1);p[H]=l.getFloat32(y,!0),p[H+1]=l.getFloat32(y+4,!0),p[H+2]=l.getFloat32(y+8,!0),T[H]=w,T[H+1]=R,T[H+2]=v,E&&(o[H]=t,o[H+1]=r,o[H+2]=n)}}return c.setAttribute("position",new THREE.BufferAttribute(p,3)),c.setAttribute("normal",new THREE.BufferAttribute(T,3)),E&&(c.setAttribute("color",new THREE.BufferAttribute(o,3)),c.hasColors=!0,c.alpha=u),c}(n):function(e){for(var t,r=new THREE.BufferGeometry,n=/solid([\s\S]*?)endsolid/g,o=/facet([\s\S]*?)endfacet/g,a=0,i=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,f=new RegExp("vertex"+i+i+i,"g"),u=new RegExp("normal"+i+i+i,"g"),l=[],s=[],E=new THREE.Vector3,g=0,c=0,p=0;null!==(t=n.exec(e));){c=p;for(var T=t[0];null!==(t=o.exec(T));){for(var d=0,h=0,w=t[0];null!==(t=u.exec(w));)E.x=parseFloat(t[1]),E.y=parseFloat(t[2]),E.z=parseFloat(t[3]),h++;for(;null!==(t=f.exec(w));)l.push(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])),s.push(E.x,E.y,E.z),d++,p++;1!==h&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+a),3!==d&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+a),a++}var R=c,v=p-c;r.addGroup(R,v,g),g++}return r.setAttribute("position",new THREE.Float32BufferAttribute(l,3)),r.setAttribute("normal",new THREE.Float32BufferAttribute(s,3)),r}("string"!=typeof(r=e)?THREE.LoaderUtils.decodeText(new Uint8Array(r)):r)}});